# ═══════════════════════════════════════════════════════════════════════
# 🎨 Kitty Terminal Configuration - chalkan3
# ═══════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────
# 🔤 Font Configuration
# ───────────────────────────────────────────────────────────────────────
font_family      JetBrains Mono
bold_font        JetBrains Mono Bold
italic_font      JetBrains Mono Italic
bold_italic_font JetBrains Mono Bold Italic

font_size 18.0

# Font features (ligatures and stylistic sets)
font_features JetBrainsMono-Regular +zero +ss01 +ss02 +ss03 +ss05 +cv05 +cv09
font_features JetBrainsMono-Bold +zero +ss01 +ss02 +ss03 +ss05 +cv05 +cv09
font_features JetBrainsMono-Italic +zero +ss01 +ss02 +ss03 +ss05 +cv05 +cv09

# Disable font features that might cause issues
disable_ligatures never

# ───────────────────────────────────────────────────────────────────────
# 🎨 Theme
# ───────────────────────────────────────────────────────────────────────
include themes/tokyonight.conf

# ───────────────────────────────────────────────────────────────────────
# 🪟 Window Configuration
# ───────────────────────────────────────────────────────────────────────
remember_window_size  yes
initial_window_width  2560
initial_window_height 1440

# Window padding
window_padding_width 15

# Window borders
window_border_width 1pt
draw_minimal_borders yes

# Background opacity
background_opacity 0.95
dynamic_background_opacity yes

# Hide title bar but keep window controls
hide_window_decorations titlebar-only

# macOS specific
macos_titlebar_color background
macos_option_as_alt yes
macos_quit_when_last_window_closed yes
macos_show_window_title_in none

# ───────────────────────────────────────────────────────────────────────
# 🖱️ Cursor
# ───────────────────────────────────────────────────────────────────────
cursor_shape block
cursor_blink_interval 0
cursor_stop_blinking_after 15.0

# ───────────────────────────────────────────────────────────────────────
# 📜 Scrollback
# ───────────────────────────────────────────────────────────────────────
scrollback_lines 100000
scrollback_pager less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
wheel_scroll_min_lines 1

# ───────────────────────────────────────────────────────────────────────
# 🔗 URLs
# ───────────────────────────────────────────────────────────────────────
url_style curly
detect_urls yes
open_url_with default
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh

# ───────────────────────────────────────────────────────────────────────
# 🔔 Bell
# ───────────────────────────────────────────────────────────────────────
enable_audio_bell no
visual_bell_duration 0.0
window_alert_on_bell yes
bell_on_tab "🔔 "

# ───────────────────────────────────────────────────────────────────────
# ⚡ Performance
# ───────────────────────────────────────────────────────────────────────
repaint_delay 10
input_delay 3
sync_to_monitor yes

# ───────────────────────────────────────────────────────────────────────
# 🔧 Advanced
# ───────────────────────────────────────────────────────────────────────
shell_integration enabled
allow_remote_control yes
listen_on unix:/tmp/kitty

# Clipboard
clipboard_control write-clipboard write-primary read-clipboard-ask read-primary-ask
clipboard_max_size 512

# Terminal bell
command_on_bell none

# Update check
update_check_interval 0

# ───────────────────────────────────────────────────────────────────────
# 📑 Tab Bar
# ───────────────────────────────────────────────────────────────────────
tab_bar_edge top
tab_bar_style powerline
tab_powerline_style slanted
tab_bar_align left
tab_bar_min_tabs 1

# Tab title template
tab_title_template " {fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}: {title} "
active_tab_title_template " {fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}: {title} "

# Tab bar colors are defined in theme

# ───────────────────────────────────────────────────────────────────────
# ⌨️  Keybindings - macOS Style
# ───────────────────────────────────────────────────────────────────────

# Clear default shortcuts
clear_all_shortcuts no

# Clipboard
map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard
map cmd+shift+s paste_from_selection

# Window management
map cmd+n new_os_window
map cmd+w close_window
map cmd+d new_window_with_cwd
map cmd+shift+d close_window

# Window navigation
map cmd+[ previous_window
map cmd+] next_window

# Window movement
map cmd+alt+up    move_window up
map cmd+alt+down  move_window down
map cmd+alt+left  move_window left
map cmd+alt+right move_window right

# Window resizing
map cmd+shift+up    resize_window taller 3
map cmd+shift+down  resize_window shorter 3
map cmd+shift+left  resize_window narrower 3
map cmd+shift+right resize_window wider 3

# Tab management
map cmd+t new_tab_with_cwd
map cmd+shift+t new_tab
map cmd+shift+w close_tab
map cmd+shift+] next_tab
map cmd+shift+[ previous_tab

# Tab navigation (cmd+1 through cmd+9)
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9

# Tab movement
map cmd+shift+, move_tab_backward
map cmd+shift+. move_tab_forward

# Font size
map cmd+equal     change_font_size all +1.0
map cmd+minus     change_font_size all -1.0
map cmd+0         change_font_size all 0

# Opacity
map cmd+shift+equal change_background_opacity +0.05
map cmd+shift+minus change_background_opacity -0.05

# Scrolling
map cmd+up    scroll_line_up
map cmd+down  scroll_line_down
map cmd+page_up   scroll_page_up
map cmd+page_down scroll_page_down
map cmd+home  scroll_home
map cmd+end   scroll_end
map cmd+shift+h show_scrollback

# Search
map cmd+f launch --type=overlay --stdin-source=@screen_scrollback /usr/bin/less +G -R

# Reload config
map cmd+shift+r load_config_file

# Open URL
map cmd+shift+e open_url_with_hints

# Unicode input
map cmd+shift+u kitten unicode_input

# ───────────────────────────────────────────────────────────────────────
# 🎨 Appearance
# ───────────────────────────────────────────────────────────────────────
# Confirm on close
confirm_os_window_close 0

# ═══════════════════════════════════════════════════════════════════════
# 🎉 End of Configuration
# ═══════════════════════════════════════════════════════════════════════
